function Rlite(){this.rules={},this.notFound=function(){}}Rlite.prototype={add:function(a,b){for(var c=a.split("/"),d=this.rules,e=0;e<c.length;++e){var f=c[e],g=f.length&&":"==f.charAt(0)?":":f;d[g]?d=d[g]:(d=d[g]={},":"==g&&(d["@name"]=f.substr(1,f.length-1)))}d["@"]=b},run:function(a){a&&a.length&&"/"==a.charAt(0)&&(a=a.substr(1,a.length));var b=this.rules,c=a.split("?",2),d=c[0].split("/",50),e={};!function(){for(var a=0;a<d.length&&b;++a){var c=d[a],f=c.toLowerCase(),g=b[f];!g&&(g=b[":"])&&(e[g["@name"]]=c),b=g}}(),function(a){for(var b=a.split("&",50),c=0;c<b.length;++c){var d=b[c].split("=",2);2==d.length&&(e[d[0]]=d[1])}}(2==c.length?c[1]:""),b&&b["@"]?b["@"]({url:a,params:e}):this.notFound(a)}};
